<html>

<head>
</head>

<body>
<h1 style="text-align: center">Multiple iframes per page (input src into text field)</h1>
<section style="display: list-item !important;"><button style="background-color: buttonface !important;" type="button">Clear</button><input style="width: 95% !important; background-color: buttonface !important;" type="text"></input><iframe style="width: 98.7% !important; border-bottom-width: 0px !important; border-left-width: 0px !important; border-right-width: 0px !important; border-top-width: 0px; !important"></iframe><br><br></section>

<script>
let sct=[...document.getElementsByTagName('SECTION')];

let chk=function(sci,init){
	let b=sci.children[0];
	let u=sci.children[1];
	let f=sci.children[2];
let sct2=[...document.getElementsByTagName('SECTION')];
	if (((u.value!="")&&(sct2.length==1))||((u.value!="")&&(init!=1)&&(sct2.length>1))){
	let sc=document.createElement('section');
	sc.style.cssText='display: list-item !important;';
	sc.innerHTML='<button style="background-color: buttonface !important;" type="button">Clear</button><input style="width: 95% !important; background-color: buttonface !important;" type="text"></input><iframe style="width: 98.7% !important; border-bottom-width: 0px !important; border-left-width: 0px !important; border-right-width: 0px !important; border-top-width: 0px; !important"></iframe><br><br>';
	sci.insertAdjacentElement('afterend', sc);
	sc.children[0].onclick=function(){
	sc.children[1].value="";
	sc.children[2].src="";
	let tst=[...document.getElementsByTagName('SECTION')];
	if (sc===tst[tst.length-1]){
	chk(sc,2);
	}else{
	chk(sc,1);
	}
	}
	sc.oninput= function(){
	let tst=[...document.getElementsByTagName('SECTION')];
	if (sc===tst[tst.length-1]){
	chk(sc,0);
	}else{
	chk(sc,1);
	}
	}
	}else if((u.value=="")&&(sct2.length>1)&&(init!=2)){
	sci.remove();
	}
	f.src=u.value;
}

sct[0].oninput= function(){

	let b=sct[0].children[0];
	let u=sct[0].children[1];
	let f=sct[0].children[2];
	b.onclick=function(){
	u.value="";
	f.src="";
	chk(sct[0]);
	}
	chk(sct[0],1);
}


</script>
</body>

</html>
